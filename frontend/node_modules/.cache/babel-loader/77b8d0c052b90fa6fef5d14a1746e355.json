{"remainingRequest":"/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/node_modules/babel-loader/lib/index.js!/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/src/router/index.js","dependencies":[{"path":"/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/src/router/index.js","mtime":1603997175205},{"path":"/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBEYXNoYm9yZCBmcm9tICcuLi92aWV3cy9EYXNoYm9yZC52dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXguanMnOwppbXBvcnQgRWNvbGUgZnJvbSAnLi4vdmlld3MvRWNvbGUudnVlJzsKaW1wb3J0IExvZ291dCBmcm9tICcuLi92aWV3cy9Mb2dvdXQudnVlJzsKaW1wb3J0IEZvcm1hdGlvbiBmcm9tICcuLi92aWV3cy9Gb3JtYXRpb24udnVlJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0Rhc2hib3JkJywKICBjb21wb25lbnQ6IERhc2hib3JkLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSwKICAgIHJlcXVpcmVzQWRtaW46IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogJy9mb3JtYXRpb24vOmlkPycsCiAgbmFtZTogJ0Zvcm1hdGlvbicsCiAgY29tcG9uZW50OiBGb3JtYXRpb24sCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlLAogICAgcmVxdWlyZXNBZG1pbjogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogSG9tZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IGZhbHNlLAogICAgcmVxdWlyZXNBZG1pbjogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAnL2Vjb2xlLzppZD8nLAogIG5hbWU6ICdFY29sZScsCiAgY29tcG9uZW50OiBFY29sZSwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICByZXF1aXJlc0FkbWluOiBmYWxzZQogIH0KfSwgewogIHBhdGg6ICcvbG9nb3V0JywKICBuYW1lOiAnTG9nb3V0JywKICBjb21wb25lbnQ6IExvZ291dCwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IHRydWUsCiAgICByZXF1aXJlc0FkbWluOiBmYWxzZQogIH0KfSwgewogIHBhdGg6ICcvYWJvdXQnLAogIG5hbWU6ICdBYm91dCcsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlLAogICAgcmVxdWlyZXNBZG1pbjogZmFsc2UKICB9LAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLwogICAgJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUuZGVidWcoInJvdXRlICIgKyB0by5uYW1lICsgIiBmcm9tIiArIGZyb20ubmFtZSk7CiAgaWYgKHRvLm5hbWUgPT0gbnVsbCkgbmV4dCh7CiAgICBuYW1lOiAnTG9naW4nCiAgfSk7CgogIGlmICh0by5uYW1lID09ICdMb2dpbicgJiYgc3RvcmUuc3RhdGUubG9nZ2VkKSB7CiAgICBuZXh0KHsKICAgICAgbmFtZTogJ0Rhc2hib3JkJwogICAgfSk7CiAgfQoKICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgfSkpIHsKICAgIGNvbnNvbGUuZGVidWcoImxvZ2dlZCAiICsgc3RvcmUuc3RhdGUubG9nZ2VkKTsgLy8gdGhpcyByb3V0ZSByZXF1aXJlcyBhdXRoLCBjaGVjayBpZiBsb2dnZWQgaW4KICAgIC8vIGlmIG5vdCwgcmVkaXJlY3QgdG8gbG9naW4gcGFnZS4KCiAgICBpZiAoIXN0b3JlLmdldHRlcnMubG9nZ2VkKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoInRvIGxvZ2dpbiIpOwogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOyAvLyBnbyB0byB3aGVyZXZlciBJJ20gZ29pbmcKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOyAvLyBkb2VzIG5vdCByZXF1aXJlIGF1dGgsIG1ha2Ugc3VyZSB0byBhbHdheXMgY2FsbCBuZXh0KCkhCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/bdafflon/Documents/PE/PE-GIT/GMP-PE/frontend/src/router/index.js"],"names":["Vue","VueRouter","Home","Dashbord","store","Ecole","Logout","Formation","use","routes","path","name","component","meta","requiresAuth","requiresAdmin","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","console","debug","state","logged","matched","some","record","getters"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Dashbord from '../views/Dashbord.vue'\nimport store from '../store/index.js'\nimport Ecole from '../views/Ecole.vue'\nimport Logout from '../views/Logout.vue'\nimport Formation from '../views/Formation.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Dashbord',\n    component: Dashbord,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: false\n    }\n  },\n  {\n    path: '/formation/:id?',\n    name: 'Formation',\n    component: Formation,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: false\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Home,\n    meta: {\n      requiresAuth: false,\n      requiresAdmin: false\n    }\n  },\n  {\n    path: '/ecole/:id?',\n    name: 'Ecole',\n    component: Ecole,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: false\n    }\n  },\n  {\n    path: '/logout',\n    name: 'Logout',\n    component: Logout,\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: false\n    }\n  },\n  {\n    path: '/about',\n    name: 'About',\n    meta: {\n      requiresAuth: true,\n      requiresAdmin: false\n    },\n\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  console.debug(\"route \"+to.name+\" from\"+from.name)\n  if(to.name == null)\n    next({ name: 'Login' })\n  if(to.name == 'Login' && store.state.logged){\n    next({ name: 'Dashbord' })\n  }\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    \n    console.debug(\"logged \"+store.state.logged)\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    if (!store.getters.logged) {\n      console.debug(\"to loggin\")\n      next({ name: 'Login' })\n    } else {\n      next() // go to wherever I'm going\n    }\n  } else {\n    next() // does not require auth, make sure to always call next()!\n  }\n})\n\nexport default router\n"]}]}